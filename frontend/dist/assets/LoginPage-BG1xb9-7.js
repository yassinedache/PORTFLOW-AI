import{a as c,j as e}from"./vendor-query-CF9v-Zna.js";import{u as b,o as v,s as d}from"./vendor-forms-DBS7TH09.js";import{E as N,t as L}from"./zod-0hdzvVwD.js";import{c as S,u as E,A as I,B as k,a as A,b as u,g as P}from"./index-CEOHBZb-.js";import{I as x}from"./input-DYGPj4ji.js";import{L as p}from"./label-BxPWq3jm.js";import{m as F}from"./vendor-motion-BvnwsIwX.js";import{E as T}from"./eye-DcB9CqbW.js";import{b as O,L as R}from"./vendor-react-lqZWVjLj.js";import"./vendor-charts-sdUO6Spa.js";import"./vendor-radix-D-AkJh5d.js";import"./vendor-http-BN7VjlME.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=S("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),C=v({email:d().email("Invalid email"),password:d().min(1,"Password is required")});function X(){const[t,h]=c.useState(!1),[o,i]=c.useState(!1),f=E(r=>r.setAuth),g=O(),{register:l,handleSubmit:y,formState:{errors:a}}=b({resolver:L(C)}),j=async r=>{var n,m;i(!0);try{const s=await A.login(r);f(s.user,s.accessToken),u.success("Welcome back!"),g(P(s.user.role))}catch(s){const w=((m=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:m.message)||"Login failed";u.error(w)}finally{i(!1)}};return e.jsxs("div",{className:"gradient-bg flex min-h-screen items-center justify-center p-4",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -left-40 -top-40 h-80 w-80 rounded-full bg-primary/10 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -right-40 h-80 w-80 rounded-full bg-accent/10 blur-3xl"})]}),e.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},className:"glass-strong relative w-full max-w-md p-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[e.jsx("div",{className:"mb-3 flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/20 shadow-lg shadow-primary/20",children:e.jsx(I,{className:"h-7 w-7 text-primary"})}),e.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"PORTFLOW AI"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Sign in to your account"})]}),e.jsxs("form",{onSubmit:y(j),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(x,{id:"email",type:"email",placeholder:"you@company.com",...l("email")}),a.email&&e.jsx("p",{className:"text-xs text-destructive",children:a.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{id:"password",type:t?"text":"password",placeholder:"Enter your password",...l("password")}),e.jsx("button",{type:"button",onClick:()=>h(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:t?e.jsx(N,{className:"h-4 w-4"}):e.jsx(T,{className:"h-4 w-4"})})]}),a.password&&e.jsx("p",{className:"text-xs text-destructive",children:a.password.message})]}),e.jsx(k,{type:"submit",className:"w-full",variant:"glow",disabled:o,children:o?e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4"}),"Sign In"]})})]}),e.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(R,{to:"/register",className:"font-medium text-primary hover:underline",children:"Create one"})]})]})]})}export{X as default};
