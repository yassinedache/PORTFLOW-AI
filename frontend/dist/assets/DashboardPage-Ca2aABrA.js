import{u as n,j as e}from"./vendor-query-CF9v-Zna.js";import{P as j,C as f,a as y,b as C,c as N,S as v}from"./card-BhKIbSNR.js";import{C as w,e as T,T as B,i as q,B as b,h as x,q as l}from"./index-CEOHBZb-.js";import{M as a}from"./MetricCard-gxQkTWwy.js";import{P}from"./Skeletons-CfQltb1a.js";import{c as o}from"./carrier-DbPZWpzb.js";import{m as D}from"./vendor-motion-BvnwsIwX.js";import{b as S}from"./vendor-react-lqZWVjLj.js";import"./vendor-radix-D-AkJh5d.js";import"./vendor-charts-sdUO6Spa.js";import"./vendor-http-BN7VjlME.js";function z(){const c=S(),{data:s,isLoading:u}=n({queryKey:l.myBookings,queryFn:o.getMyBookings}),{data:r}=n({queryKey:l.trucks,queryFn:o.getTrucks}),{data:i}=n({queryKey:l.containers,queryFn:o.getContainers});if(u)return e.jsx(P,{});const g=(s==null?void 0:s.filter(t=>t.status==="PENDING").length)||0,p=(s==null?void 0:s.filter(t=>t.status==="CONFIRMED").length)||0,d=(s==null?void 0:s.slice(0,5))||[];return e.jsx(j,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Carrier Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Overview of your fleet and bookings"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(a,{title:"Total Bookings",value:(s==null?void 0:s.length)||0,subtitle:`${g} pending`,icon:e.jsx(w,{className:"h-5 w-5"}),glowColor:"rgba(59, 130, 246, 0.15)"}),e.jsx(a,{title:"Confirmed",value:p,icon:e.jsx(T,{className:"h-5 w-5"}),glowColor:"rgba(16, 185, 129, 0.15)"}),e.jsx(a,{title:"Trucks",value:(r==null?void 0:r.length)||0,icon:e.jsx(B,{className:"h-5 w-5"}),glowColor:"rgba(245, 158, 11, 0.15)"}),e.jsx(a,{title:"Containers",value:(i==null?void 0:i.length)||0,icon:e.jsx(q,{className:"h-5 w-5"}),glowColor:"rgba(99, 102, 241, 0.15)"})]}),e.jsxs(f,{children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{children:"Recent Bookings"}),e.jsx(b,{variant:"outline",size:"sm",onClick:()=>c("/app/carrier/bookings"),children:"View All"})]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[d.map((t,h)=>{var m;return e.jsxs(D.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:h*.05},onClick:()=>c(`/app/carrier/bookings/${t.id}`),className:"flex cursor-pointer items-center justify-between rounded-lg bg-secondary/30 p-4 transition-all hover:bg-secondary/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:((m=t.terminal)==null?void 0:m.name)||"Terminal"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.timeSlot?x(t.timeSlot.startTime):x(t.createdAt)})]}),e.jsx(v,{status:t.status})]},t.id)}),!d.length&&e.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No bookings yet"})]})})]})]})})}export{z as default};
