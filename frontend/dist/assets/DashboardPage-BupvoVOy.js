import{u as c,j as s}from"./vendor-query-CF9v-Zna.js";import{P as w,k as E,C as m,a as x,b as p,c as g,S as P}from"./card-BhKIbSNR.js";import{m as o,C as h,i as k,v as l,h as j,q as u}from"./index-CEOHBZb-.js";import{E as N}from"./EmptyState-CSoHTzce.js";import{M as r}from"./MetricCard-gxQkTWwy.js";import{C as D}from"./Skeletons-CfQltb1a.js";import{o as f}from"./operator-CmVVUFZE.js";import{m as y}from"./vendor-motion-BvnwsIwX.js";import{b as L}from"./vendor-react-lqZWVjLj.js";import"./vendor-radix-D-AkJh5d.js";import"./vendor-charts-sdUO6Spa.js";import"./vendor-http-BN7VjlME.js";function H(){const v=L(),{data:t,isLoading:C}=c({queryKey:u.operatorQueue(),queryFn:()=>f.getQueue()}),{data:a,isLoading:A}=c({queryKey:u.operatorAlerts(),queryFn:()=>f.getAlerts()}),n=(t==null?void 0:t.filter(e=>e.status===o.PENDING).length)??0,b=(t==null?void 0:t.filter(e=>e.status===o.CONFIRMED).length)??0;return s.jsx(w,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Operator Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor terminal operations at a glance"})]}),C||A?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,i)=>s.jsx(D,{},i))}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(r,{title:"Pending Approval",value:n,icon:s.jsx(h,{className:"h-5 w-5"}),color:"yellow"}),s.jsx(r,{title:"Confirmed",value:b,icon:s.jsx(E,{className:"h-5 w-5"}),color:"cyan"}),s.jsx(r,{title:"Total Queue",value:(t==null?void 0:t.length)??0,icon:s.jsx(k,{className:"h-5 w-5"}),color:"purple"}),s.jsx(r,{title:"Active Alerts",value:(a==null?void 0:a.length)??0,icon:s.jsx(l,{className:"h-5 w-5"}),color:"red"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(m,{children:[s.jsx(x,{children:s.jsx(p,{className:"text-base",children:"Recent Pending Bookings"})}),s.jsx(g,{className:"p-0",children:n?s.jsx("div",{className:"divide-y divide-border/50",children:t==null?void 0:t.filter(e=>e.status===o.PENDING).slice(0,5).map((e,i)=>{var d;return s.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:i*.05},onClick:()=>v(`/app/operator/bookings/${e.id}`),className:"flex items-center justify-between px-4 py-3 hover:bg-foreground/5 cursor-pointer transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:((d=e.terminal)==null?void 0:d.name)||"Terminal"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:j(e.createdAt)})]}),s.jsx(P,{status:e.status})]},e.id)})}):s.jsx(N,{title:"No pending bookings",description:"All bookings have been reviewed",icon:s.jsx(h,{className:"h-8 w-8 text-muted-foreground"})})})]}),s.jsxs(m,{children:[s.jsx(x,{children:s.jsx(p,{className:"text-base",children:"Latest Alerts"})}),s.jsx(g,{className:"p-0",children:a!=null&&a.length?s.jsx("div",{className:"divide-y divide-border/50",children:a.slice(0,6).map((e,i)=>s.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:i*.05},className:"flex items-start gap-3 px-4 py-3",children:[s.jsx(l,{className:"h-4 w-4 text-yellow-400 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm",children:e.message}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[e.type,e.createdAt&&` Â· ${j(e.createdAt)}`]})]})]},i))}):s.jsx(N,{title:"No alerts",description:"Everything is running smoothly",icon:s.jsx(l,{className:"h-8 w-8 text-muted-foreground"})})})]})]})]})})}export{H as default};
