import{a as p,j as e}from"./vendor-query-CF9v-Zna.js";import{u as R,o as P,n as A,s as n}from"./vendor-forms-DBS7TH09.js";import{E as S,t as E}from"./zod-0hdzvVwD.js";import{c as T,u as I,R as t,A as C,B as k,a as L,b as f,g as F}from"./index-CEOHBZb-.js";import{I as m}from"./input-DYGPj4ji.js";import{L as o}from"./label-BxPWq3jm.js";import{S as O,a as V,b as M,c as G,d as i}from"./select-BcYq-aZE.js";import{m as _}from"./vendor-motion-BvnwsIwX.js";import{E as B}from"./eye-DcB9CqbW.js";import{b as D,L as U}from"./vendor-react-lqZWVjLj.js";import"./vendor-charts-sdUO6Spa.js";import"./vendor-radix-D-AkJh5d.js";import"./vendor-http-BN7VjlME.js";import"./chevron-down-CVmmBZsX.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=T("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),H=P({email:n().email("Invalid email"),password:n().min(6,"Password must be at least 6 characters"),confirmPassword:n(),role:A(t)}).refine(l=>l.password===l.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function le(){const[l,j]=p.useState(!1),[d,x]=p.useState(!1),y=I(a=>a.setAuth),w=D(),{register:c,handleSubmit:g,setValue:v,formState:{errors:s}}=R({resolver:E(H),defaultValues:{role:t.CARRIER}}),N=async a=>{var u,h;x(!0);try{const r=await L.register({email:a.email,password:a.password,role:a.role});y(r.user,r.accessToken),f.success("Account created successfully!"),w(F(r.user.role))}catch(r){const b=((h=(u=r==null?void 0:r.response)==null?void 0:u.data)==null?void 0:h.message)||"Registration failed";f.error(b)}finally{x(!1)}};return e.jsxs("div",{className:"gradient-bg flex min-h-screen items-center justify-center p-4",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -left-40 -top-40 h-80 w-80 rounded-full bg-accent/10 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -right-40 h-80 w-80 rounded-full bg-primary/10 blur-3xl"})]}),e.jsxs(_.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},className:"glass-strong relative w-full max-w-md p-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[e.jsx("div",{className:"mb-3 flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/20 shadow-lg shadow-primary/20",children:e.jsx(C,{className:"h-7 w-7 text-primary"})}),e.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"PORTFLOW AI"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create your account"})]}),e.jsxs("form",{onSubmit:g(N),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",placeholder:"you@company.com",...c("email")}),s.email&&e.jsx("p",{className:"text-xs text-destructive",children:s.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"role",children:"Role"}),e.jsxs(O,{defaultValue:t.CARRIER,onValueChange:a=>v("role",a),children:[e.jsx(V,{children:e.jsx(M,{placeholder:"Select role"})}),e.jsxs(G,{children:[e.jsx(i,{value:t.PORT_ADMIN,children:"Port Admin"}),e.jsx(i,{value:t.TERMINAL_OPERATOR,children:"Terminal Operator"}),e.jsx(i,{value:t.CARRIER,children:"Carrier"}),e.jsx(i,{value:t.GATE_AGENT,children:"Gate Agent"})]})]}),s.role&&e.jsx("p",{className:"text-xs text-destructive",children:s.role.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{id:"password",type:l?"text":"password",placeholder:"Min 6 characters",...c("password")}),e.jsx("button",{type:"button",onClick:()=>j(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l?e.jsx(S,{className:"h-4 w-4"}):e.jsx(B,{className:"h-4 w-4"})})]}),s.password&&e.jsx("p",{className:"text-xs text-destructive",children:s.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(m,{id:"confirmPassword",type:"password",placeholder:"Repeat password",...c("confirmPassword")}),s.confirmPassword&&e.jsx("p",{className:"text-xs text-destructive",children:s.confirmPassword.message})]}),e.jsx(k,{type:"submit",className:"w-full",variant:"glow",disabled:d,children:d?e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4"}),"Create Account"]})})]}),e.jsxs("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(U,{to:"/login",className:"font-medium text-primary hover:underline",children:"Sign in"})]})]})]})}export{le as default};
